@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Usuarios";
}

@model List<Domain.Usuario>


<div class="row card p-2 mb-4 rounded m-3" style="border-radius: 15px !important;">
    <div class="card-header card-headerP" style="border-radius: 15px 15px 0px 0px !important;">
        <h1 class="h4"><i class="fas fa-users-cog"></i>  @ViewData["Title"]</h1>
    </div>

    <div class="card-body" style="font-size:13px;">
        <div class="col-12">
            <table class="table table-striped table-bordered dt-responsive nowrap" id="tablaUsuariosListar" style="width:100%; font-size:13px;">
                <thead>
                    <tr>



                        <th scope="col">Identificador</th>
                        <th scope="col">Usuario</th>
                        <th scope="col">Correo</th>
                        <th scope="col">Rol</th>
                        <th scope="col"></th>


                    </tr>
                </thead>
                <tbody>

                    @foreach (var e in Model)
                    {
                        <tr>

                            <td>@e.Id</td>
                            <td>@e.UserName</td>
                            <td>@e.Email</td>
                            <td>@e.NameRol</td>

                            <td><a class="btn btn-warning" href="#@e.UserName-@e.NameRol" onclick="asignarRol(this)"><i class="far fa-edit"></i> Editar rol</a></td>


                        </tr>

                    }
                </tbody>
            </table>
        </div>
    </div>


</div>







<div class="modal fade" id="modalRol" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header cardHeaderModal">
                <h5 class="modal-title" id="exampleModalLabel"><i class="far fa-address-card"></i> Actualización de rol</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <div class="row m-2">

                    <div class="col">
                        Usuario:
                        <input id="usuario" class="form-control" disabled>

                    </div>

                </div>

                <div class="row m-2">

                    <div class="col">
                        Rol actual:
                        <input id="rolActual" class="form-control" disabled>

                    </div>

                </div>

                <div class="row m-2">

                    <div class="col">
                        Nuevo rol:
                        <select id="nuevoRol" class="form-control">
                            <option value="Admin">Admin</option>
                            <option value="Enfermera">Enfermera</option>
                            <option value="Doctor">Doctor</option>
                            <option value="No asignado">No asignado</option>
                        </select>

                    </div>

                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" onclick="cancelar()" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick=actualizarRol()>Actualizar rol</button>
            </div>
        </div>
    </div>
</div>


@section Scripts{
    <script src="~/js/Usuarios.js"></script>


}
